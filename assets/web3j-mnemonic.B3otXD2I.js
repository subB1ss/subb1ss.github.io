import{_ as u}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CDNibFOu.js";import{e as g,a as k,u as b}from"./chunks/vue-router.CwVjGBxy.js";import{N as y,a3 as l,U as e,S as s,W as a,u as v,O as E,E as x}from"./framework.CKsHIdWx.js";import"./app.CmA0qfZP.js";import"./chunks/dayjs.CCYrSalk.js";import"./chunks/@vueuse/motion.ClL2VSPB.js";import"./chunks/vue-i18n.CsQzXKWS.js";import"./chunks/pinia.sS_t_ppk.js";import"./chunks/nprogress.BahbDzmd.js";import"./YunComment.vue_vue_type_style_index_0_lang.W6MzDCJn.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BVfBHuM-.js";import"./post.BO2M9Fgu.js";const f=g("/posts/web3j-mnemonic",async n=>JSON.parse('{"title":"憧憬成为web3高手之：从助记词到钱包私钥","description":"","frontmatter":{"draft":false,"title":"憧憬成为web3高手之：从助记词到钱包私钥","date":"2024-07-31","update":"2024-08-06","categories":"Web3相关","tags":["web3","bip-39","bip-44"]},"headers":[],"relativePath":"pages/posts/web3j-mnemonic.md","lastUpdated":1750994524000}'),{lazy:(n,i)=>n.name===i.name}),S={__name:"web3j-mnemonic",setup(n,{expose:i}){var m;const{data:h}=f(),c=b(),o=k(),p=Object.assign(o.meta.frontmatter||{},((m=h.value)==null?void 0:m.frontmatter)||{});return c.currentRoute.value.data=h.value,x("valaxy:frontmatter",p),globalThis.$frontmatter=p,i({frontmatter:{draft:!1,title:"憧憬成为web3高手之：从助记词到钱包私钥",date:"2024-07-31",update:"2024-08-06",categories:"Web3相关",tags:["web3","bip-39","bip-44"]}}),(t,r)=>{const d=u;return E(),y(d,{frontmatter:v(p)},{"main-content-md":l(()=>r[0]||(r[0]=[s("h1",{id:"从助记词密语到钱包地址",tabindex:"-1"},[a("从助记词密语到钱包地址 "),s("a",{class:"header-anchor",href:"#从助记词密语到钱包地址","aria-label":'Permalink to "从助记词密语到钱包地址"'},"​")],-1),s("p",null,"现行的钱包地址都由一串助记词派生而来。",-1),s("p",null,[s("code",null,"BIP-39"),a(" 标准定义了 2048 个助记词，稍后会看到为什么是 2048 个。")],-1),s("p",null,[a("创建助记词的第一步是生成 "),s("em",null,"初始熵"),a("，有许多生成初始熵的方式，比较常见的是使用电脑的随机数生成器。生成的 "),s("em",null,"初始熵"),a(" 是一串用于加密的 "),s("em",null,"比特序列（0 或者 1）"),a(" ，通常来说越长的 "),s("em",null,"初始熵"),a(" 被认为是越安全的，"),s("code",null,"128 bits"),a(" 长被认为是足够的。")],-1),s("p",null,[s("em",null,"初始熵"),a(" 可以有 128 bits 到 256 bits 的长度，响应的助记词会有 12 到 24 个单词的长度。")],-1),s("h2",{id:"从初始熵到助记词",tabindex:"-1"},[a("从初始熵到助记词 "),s("a",{class:"header-anchor",href:"#从初始熵到助记词","aria-label":'Permalink to "从初始熵到助记词"'},"​")],-1),s("p",null,[a("假设我们要创建一个 12 单词长的助记词，第一步是生成 128 bits 长的 "),s("em",null,"初始熵"),a("。")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"11111011 00010101 11111100 00011110 01000100 00011011 10110100 00110001 01000000 01111010 01010111 11101011 10000111 11111010 00011111 11011110")])])]),s("button",{class:"collapse"})],-1),s("p",null,[a("然后我们取 "),s("em",null,"初始熵"),a(" 的 "),s("code",null,"SHA-256"),a(" 结果的头 "),s("code",null,"长度 / 32"),a(" 位添加到它后面，在这里的情况是 "),s("code",null,"0100"),a("，得到一串 "),s("code",null,"132 bits"),a(" 的序列。这被加上的四位称为 "),s("em",null,"校验和（checksum）"),a("，可以用来验证输入的助记词是否合法。")],-1),s("p",null,[a("我们将得到的 "),s("code",null,"132 bits"),a(" 序列以 "),s("code",null,"11 bits"),a(" 宽重组：")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"11111011000 10101111111 00000111100 10001000001 10111011010")]),a(`
`),s("span",{class:"line"},[s("span",null,"2008        1407        60          1089        1498")]),a(`
`),s("span",{class:"line"},[s("span",null,"00011000101 00000001111 01001010111 11101011100 00111111110")]),a(`
`),s("span",{class:"line"},[s("span",null,"197         15          599         1884        510")]),a(`
`),s("span",{class:"line"},[s("span",null,"10000111111 10111100100")]),a(`
`),s("span",{class:"line"},[s("span",null,"1087        1508")])])]),s("button",{class:"collapse"})],-1),s("p",null,[a("每个序列下的值是它们的十进制值，映射至 "),s("code",null,"BIP-39"),a(" 标准定义的 2048 个单词。这个标准定义了一系列不同的词语表，有英语、中文、西语。"),s("br"),a(" 最终得到的助记词如下：")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"2008     1407     60       1089     1498     197      15")]),a(`
`),s("span",{class:"line"},[s("span",null,"wild     quiz     always   market   robust   board    acid    ")]),a(`
`),s("span",{class:"line"},[s("span",null,"599      1884     510      1087     1508")]),a(`
`),s("span",{class:"line"},[s("span",null,"enough   twist    divert   margin   route")])])]),s("button",{class:"collapse"})],-1),s("h3",{id:"checksum",tabindex:"-1"},[a("checksum "),s("a",{class:"header-anchor",href:"#checksum","aria-label":'Permalink to "checksum"'},"​")],-1),s("p",null,"通过重复生成校验和的流程我们可以判断助记词序列是否合法",-1),s("h3",{id:"通过骰子生成初始熵",tabindex:"-1"},[a("通过骰子生成初始熵 "),s("a",{class:"header-anchor",href:"#通过骰子生成初始熵","aria-label":'Permalink to "通过骰子生成初始熵"'},"​")],-1),s("p",null,"如果你不信任计算机的随机数生成器，也可以通过掷骰子来完成，参照 Alex Van de Sande 制造的图表",-1),s("blockquote",null,[s("p",null,[s("a",{href:"https://x.com/avsa/status/1131281684635234304?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1131281684635234304%7Ctwgr%5E64a640fd48aab891d79649b91430a0600d85b9ec%7Ctwcon%5Es1_&ref_url=https%3A%2F%2Fcdn.embedly.com%2Fwidgets%2Fmedia.html%3Ftype%3Dtext2Fhtmlkey%3Da19fcc184b9711e1b4764040d3dc5c07schema%3Dtwitterurl%3Dhttps3A%2F%2Ftwitter.com%2Favsa%2Fstatus%2F1131281684635234304image%3Dhttps3A%2F%2Fi.embed.ly%2F1%2Fimage3Furl3Dhttps253A252F252Fpbs.twimg.com252Fmedia252FD7Md5NuWkAUR2Kz.png253Alarge26key3Da19fcc184b9711e1b4764040d3dc5c07",target:"_blank",rel:"noreferrer"},"I made this handy image that allows you to see all BIP39 words arranged in a way you can print in an A4, pick them using a few dice by throwing it 11 times (the last word is a checksum).")])],-1),s("h2",{id:"从助记词到种子再到私钥",tabindex:"-1"},[a("从助记词到种子再到私钥 "),s("a",{class:"header-anchor",href:"#从助记词到种子再到私钥","aria-label":'Permalink to "从助记词到种子再到私钥"'},"​")],-1),s("h3",{id:"bip-39-从助记词生成确定性的密钥",tabindex:"-1"},[a("BIP-39: 从助记词生成确定性的密钥 "),s("a",{class:"header-anchor",href:"#bip-39-从助记词生成确定性的密钥","aria-label":'Permalink to "BIP-39: 从助记词生成确定性的密钥"'},"​")],-1),s("p",null,[a("为了得到实际的私钥，助记词先要转化为 "),s("em",null,"种子"),a("，这一过程使用 "),s("strong",null,"Password-Based Key Derivation Function 2"),a(" 简称为 "),s("strong",null,"PBKDF2"),a("。类似 "),s("strong",null,"PBKDF2"),a(" 这样的密钥生成函数行为大多相同，接收一些输入作为参数，返回生成的密钥。只要他们的输入不变，返回的密钥也是不会变的。")],-1),s("p",null,[s("strong",null,"PBKDF2"),a(" 有 5 个输入参数：")],-1),s("ol",null,[s("li",null,"一个伪随机数函数"),s("li",null,"密码"),s("li",null,"盐"),s("li",null,"迭代次数"),s("li",null,"密钥长度")],-1),s("p",null,[a("最重要的是 "),s("em",null,"密码"),a(" 和 "),s("em",null,"盐"),a("，我们使用助记词作为密码，使用“mnemonichunter2”作为盐，生成的 "),s("code",null,"512 bits"),a(" 长种子为：")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"0x77cdf1d92225adc0e67b1b4f5a31820251d518b3af074df25a07b751947fd07ebd29a4d0e57b84ea9de03a9123e2a6ea1e3ed739d4c562efec21f1bb0a54a879")])])]),s("button",{class:"collapse"})],-1),s("p",null,[a("下一步我们会用这个种子生成 "),s("code",null,"BIP-32"),a(" 主钥")],-1),s("h3",{id:"bip-32-分层确定性钱包",tabindex:"-1"},[a("BIP-32: 分层确定性钱包 "),s("a",{class:"header-anchor",href:"#bip-32-分层确定性钱包","aria-label":'Permalink to "BIP-32: 分层确定性钱包"'},"​")],-1),s("p",null,[a("这个种子用于生成一条 "),s("em",null,"分层确定性钱包（Hierarchical Deterministic Wallet）"),a(" 或者称为 "),s("em",null,"HD钱包"),a(" 的主钥。为此我们使用 "),s("code",null,"BIP-32"),a(" 和 "),s("code",null,"BIP-44"),a("。"),s("br"),a(" 前者定义了HD钱包，后者特定了前者的结构。")],-1),s("p",null,[a("一个HD钱包从它的主钥 "),s("code",null,"m"),a(" 开始。主钥从种子生成，再次使用 "),s("strong",null,"PBKDF2"),a('，不再使用“mnemonic”作为盐，而是使用“Bitcoin seed”。像这样`PBKDF2("0x77cd…a879", "Bitcoin seed")，再次得到一个 512 bits 长的密钥：')],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"0x300b155f751964276c0536230bd9b16fe7a86533c3cbaa7575e8d0431dbedf23f9945bb8b052bd0b0802c10c7c852e7765b69b61ce7233d9fe5a35ab108ca3b6")])])]),s("button",{class:"collapse"})],-1),s("p",null,[a("从这个主钥，我们可以派生出许多子钥。每一个子钥（包括主钥）有 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mn",null,"3")]),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"2^31")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"3")])])])])])])]),s("span",{class:"mord"},"1")])])]),a(" 个普通子钥和 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mn",null,"3")]),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"2^31")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"3")])])])])])])]),s("span",{class:"mord"},"1")])])]),a(" 个硬子钥。"),s("code",null,"BIP-32"),a(" 并没有限制层数上线，所以理论上可以从主钥派生出无数个子钥。")],-1),s("p",null,[a("每个子钥都有一个序号，普通子钥使用从 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"0")]),s("annotation",{encoding:"application/x-tex"},"0")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"0")])])]),a(" 到 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mn",null,"31")]),s("mo",null,"−"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"2^{31}-1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8974em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"31")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])]),a(" 的序号，硬子钥使用从 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mn",null,"31")])]),s("annotation",{encoding:"application/x-tex"},"2^{31}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"31")])])])])])])])])])])]),a(" 到 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mn",null,"32")]),s("mo",null,"−"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"2^{32}-1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8974em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"32")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])]),a(" 的序号。")],-1),s("p",null,"普通子钥从公钥计算派生而出，硬子钥从私钥计算派生而出。",-1),s("h3",{id:"拓展密钥",tabindex:"-1"},[a("拓展密钥 "),s("a",{class:"header-anchor",href:"#拓展密钥","aria-label":'Permalink to "拓展密钥"'},"​")],-1),s("p",null,[a("主钥的前 256bits 作为私钥使用，后 256bits 作为 "),s("em",null,"链码（chain code）"),a(" 使用。为了不让子钥由私钥独立决定，链码被用于作为生成子钥的附加熵。私钥和链码组合在一起构成了拓展私钥。")],-1),s("p",null,[a("和拓展私钥一样，我们也有拓展公钥。公钥（Kpub）可以从私钥（Kpriv）派生出来，使用 "),s("em",null,"椭圆曲线点加法"),a("。基本上，你将私钥点乘椭圆曲线的初始点 "),s("code",null,"G")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Kpub = Kpriv x G")])])]),s("button",{class:"collapse"})],-1),s("h2",{id:"派生子钥",tabindex:"-1"},[a("派生子钥 "),s("a",{class:"header-anchor",href:"#派生子钥","aria-label":'Permalink to "派生子钥"'},"​")],-1),s("p",null,[a("现在我们从 "),s("code",null,"master key"),a(" 派生出子钥，假设我们想要派生出位于 "),s("code",null,"m/0/0'"),a("的子钥。这个过程分为两步：第一步，派生出 "),s("code",null,"m/0"),a("。第二步派生出 "),s("code",null,"m/0/0'"),a("，假设我们有一个函数能能够派生出子私钥 "),s("code",null,"CKDpriv"),a("，那我们就需要这样："),s("code",null,"CKDpriv(CKDpriv(m, 0), 0')"),a(" 来派生 "),s("code",null,"m/0/0'"),a("。")],-1),s("p",null,"我们先判断下这个子钥是否是硬子钥：",-1),s("ul",null,[s("li",null,"如果是硬子钥，取 32 bytes 长度的私钥并且在开头添加一个 0 字节（0x00），让他变成 33 字节长"),s("li",null,"如果不是，取 32 bytes 长的公钥")],-1),s("p",null,"我们将取得的值称为 data，然后我们将序号加至 data 的后面。",-1),s("p",null,[a("然后我们对得到的字节序列使用 HMAC-SHA512。这个哈希算法类似于 PBKDF2 一样产生确定性的结果，但是需要一个额外的加密密钥，在这里我们使用 "),s("em",null,"链码")],-1),s("p",null,"我们将得到的结果分至两个 32 bytes 长的数组，第一组用于计算新的私钥或者公钥，第二组作为新的链码用于继续派生子钥。",-1),s("p",null,"使用如下表达式计算新的密钥：",-1),s("p",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"K"),s("mi",null,"i")]),s("mo",null,"="),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"I"),s("mi",null,"l")]),s("mo",null,"+"),s("msub",null,[s("mi",null,"K"),s("mrow",null,[s("mi",null,"p"),s("mi",null,"a"),s("mi",null,"r")])]),s("mo",{stretchy:"false"},")"),s("mi",{mathvariant:"normal"},"%"),s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"K_i = (I_l + K_{par})\\%n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3361em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.01968em"}},"l")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0361em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"p"),s("span",{class:"mord mathnormal mtight"},"a"),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])]),s("span",{class:"mclose"},")"),s("span",{class:"mord"},"%"),s("span",{class:"mord mathnormal"},"n")])])])],-1),s("p",null,[a("新的子钥 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"K"),s("mi",null,"i")])]),s("annotation",{encoding:"application/x-tex"},"K_i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" 通过取 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"I"),s("mi",null,"l")])]),s("annotation",{encoding:"application/x-tex"},"I_l")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3361em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.01968em"}},"l")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" 的前 32 字节加上父钥 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"K"),s("mrow",null,[s("mi",null,"p"),s("mi",null,"a"),s("mi",null,"r")])])]),s("annotation",{encoding:"application/x-tex"},"K_{par}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"p"),s("span",{class:"mord mathnormal mtight"},"a"),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("，再将这个合对 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),a(" 取模。"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),a(" 是 secp256k1 预定义的常量")],-1),s("p",null,"上面的方式只适用于我们拥有对私钥的访问权的情况，当我们只有公钥的访问权时，例如使用一个硬件钱包时，派生子钥的操作有些许不同",-1),s("p",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"k"),s("mi",null,"i")]),s("mo",null,"="),s("mi",null,"p"),s("mi",null,"o"),s("mi",null,"i"),s("mi",null,"n"),s("mi",null,"t"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"I"),s("mi",null,"l")]),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("msub",null,[s("mi",null,"K"),s("mrow",null,[s("mi",null,"p"),s("mi",null,"a"),s("mi",null,"r")])])]),s("annotation",{encoding:"application/x-tex"},"{k_i=point(I_l) + K_{par}}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0361em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0315em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord mathnormal"},"p"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal"},"in"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3361em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.01968em"}},"l")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"p"),s("span",{class:"mord mathnormal mtight"},"a"),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])])])],-1),s("p",null,"使用了椭圆曲线点加法",-1),s("h3",{id:"拓展子钥序列化",tabindex:"-1"},[a("拓展子钥序列化 "),s("a",{class:"header-anchor",href:"#拓展子钥序列化","aria-label":'Permalink to "拓展子钥序列化"'},"​")],-1),s("p",null,[a("派生子钥可以序列化成 "),s("em",null,"Base58"),a(" 编码字符串，提高人类可读性。从主钥派生的子私钥序列化后看起来像是这样：")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"xprv9s21ZrQH143K4YUcKrp6cVxQaX59ZFkN6MFdeZjt8CHVYNs55xxQSvZpHWfojWMv6zgjmzopCyWPSFAnV4RU33J4pwCcnhsB4R4mPEnTsMC")])])]),s("button",{class:"collapse"})],-1),s("p",null,"公钥看起来像这样：",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"xpub661MyMwAqRbcH2Z5RtM6ydu98YudxiUDTaBESx9VgXpURBCDdWGezitJ8ormADG6CsJPs23fLmaeLp8RJgNvFo6YJkGhpXnHusCkRhGZdqr")])])]),s("button",{class:"collapse"})],-1),s("p",null,"来看下拓展私钥的组成，在 16 进制下，它看起来是这样的：",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"0x0488ade4000000000000000000f9945bb8b052bd0b0802c10c7c852e7765b69b61ce7233d9fe5a35ab108ca3b600300b155f751964276c0536230bd9b16fe7a86533c3cbaa7575e8d0431dbedf232204691b")])])]),s("button",{class:"collapse"})],-1),s("p",null,"拓展子钥有 82 bytes 长，并且包含以下字段：",-1),s("ul",null,[s("li",null,[a("版本（4 bytes）：不是 "),s("code",null,"0x0488b21e"),a("（xpub）就是 "),s("code",null,"0x0488ade4"),a("（xpriv）。因此，"),s("em",null,"Base58"),a(" 编码密钥总是以 "),s("em",null,"xpub"),a(" 或者 "),s("em",null,"xprv"),a(" 开头")]),s("li",null,[a("深度（1 bytes）：从主钥算起，每个子钥的深度将会加一。主钥的深度是 "),s("code",null,"0x00"),a("，第一个子钥就是 "),s("code",null,"0x01"),a("，这个子钥的子钥就是 "),s("code",null,"0x02")]),s("li",null,[a("父钥指纹（4 bytes）：父钥的标识符。因为范例是主钥（没有父钥），指纹永远是 "),s("code",null,"0x00000000"),a("。对于子钥，这个字段通过将父公钥的 "),s("em",null,"SHA256"),a(" 哈希计算 "),s("em",null,"RIPEMD160"),a(" 哈希得到")]),s("li",null,[a("序号（4 bytes）：因为范例是主钥，所有子钥序号是 0（0x00000000），对于子钥，该字段就是用于派生子钥的数字。例如对于 "),s("code",null,"m/1"),a("，子钥序号就是 1 （0x00000001）")]),s("li",null,"链码（32 bytes）"),s("li",null,"公钥或者私钥（33 bytes）：私钥原生是 32 bytes，往前面添加一个 0 字节（0x00）使其达到 33 bytes"),s("li",null,[a("验证合（4 bytes）：对其他所有字节进行两次 "),s("em",null,"SHA256")])],-1),s("p",null,"再看一个实际的案例：",-1),s("p",null,[a("从主钥派生一条路径为 "),s("code",null,"m/0/0'"),a(" 的子钥，我们得到：")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"xprv9wpaeBFtdQRvLmeHJW8am7sYUSJJyup2rJwhCzZQG6KZCB5mqWDpSTamzJZAgtAhJVmaoRSMTeRyzmXXt28tvrZQnnr576LpNcDaSjf4fPn")])])]),s("button",{class:"collapse"})],-1),s("p",null,"十二进制表示",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"0488ade4028d71ca56800000007c85166433befdd691914b0eecd68d60eb3824bdb386fb34f15abf72a240ddef00387d4046b9eccba86fb9404e23e0345ae7cd513d8c819d00c3e7f11ee2aa4f98ed30f059")])])]),s("button",{class:"collapse"})],-1),s("p",null,[a("下面是它的所有独立字段，记住子序号是硬子钥，所以序号字段是 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mn",null,"0"),s("mo",null,"+"),s("mo",{stretchy:"false"},")"),s("msup",null,[s("mn",null,"2"),s("mn",null,"31")])]),s("annotation",{encoding:"application/x-tex"},"(0+)2^{31}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0641em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"0"),s("span",{class:"mord"},"+"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"31")])])])])])])])])])])]),a(" 得到 "),s("code",null,"0x80000000")],-1),s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"字段"),s("th",null,"值")])]),s("tbody",null,[s("tr",null,[s("td",null,"Version"),s("td",null,"0x0488ade4")]),s("tr",null,[s("td",null,"Depth"),s("td",null,"02")]),s("tr",null,[s("td",null,"Parent fingerprint"),s("td",null,"8d71ca56")]),s("tr",null,[s("td",null,"Index"),s("td",null,"80000000")]),s("tr",null,[s("td",null,"Chain code"),s("td",null,"7c85166433befdd691914b0eecd68d60eb3824bdb386fb34f15abf72a240ddef")]),s("tr",null,[s("td",null,"Private key"),s("td",null,"00387d4046b9eccba86fb9404e23e0345ae7cd513d8c819d00c3e7f11ee2aa4f98")]),s("tr",null,[s("td",null,"Checksum"),s("td",null,"ed30f059")])])],-1),s("h2",{id:"从公钥到地址",tabindex:"-1"},[a("从公钥到地址 "),s("a",{class:"header-anchor",href:"#从公钥到地址","aria-label":'Permalink to "从公钥到地址"'},"​")],-1),s("p",null,[a("这是这个流程的最后一步了，我们对 "),s("code",null,"m/0/0'"),a("派生子钥进行 "),s("em",null,"Keccak256"),a(" 哈希，取最后的 20 bytes，并执行 "),s("em",null,"EIP-55"),a(" 校验和，最终得出的就是钱包地址")],-1),s("blockquote",null,[s("p",null,[s("a",{href:"https://github.com/ethereum/ercs/blob/master/ERCS/erc-55.md",target:"_blank",rel:"noreferrer"},"EIP-55: Mixed-case checksum address encoding")])],-1),s("h3",{id:"bip-44-multi-account-hierarchy-for-deterministic-wallets",tabindex:"-1"},[a("BIP-44: Multi-Account Hierarchy for Deterministic Wallets "),s("a",{class:"header-anchor",href:"#bip-44-multi-account-hierarchy-for-deterministic-wallets","aria-label":'Permalink to "BIP-44: Multi-Account Hierarchy for Deterministic Wallets"'},"​")],-1),s("p",null,"BIP-44 定义了 BIP-32 和 BIP-32 的引申。是现行被最广泛使用的规范。",-1),s("p",null,"BIP-32 并没有定义十分严格的路径层级，BIP-44 基于 BIP-33 的路径定义了 5 个层级",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"m / purpose' / coin_type' / account' / change / address_index")])])]),s("button",{class:"collapse"})],-1),s("p",null,"这也被称为“派生路径”，我们选区特定的路径并从种子派生特殊的地址，以下是两个例子：",-1),s("ul",null,[s("li",null,[a("以太坊“默认”的第一地址的派生路径 "),s("code",null,"m/44'/60'/0'/0/0")]),s("li",null,[a("Ledger Live的第三地址的派生路径 "),s("code",null,"m/44'/60'/2'/0/0")])],-1),s("h4",{id:"purpose",tabindex:"-1"},[a("Purpose "),s("a",{class:"header-anchor",href:"#purpose","aria-label":'Permalink to "Purpose"'},"​")],-1),s("p",null,[a("由 BIP-43 引入，指明了派生路径使用的什么规范，有些钱包使用类似 "),s("code",null,"m/44'/60'/0'/0"),a(" 的派生路径，这在技术上来说不是一条合法的 BIP-44 的路径，应该使用一个不同的 "),s("em",null,"purpose")],-1),s("h4",{id:"coin-type",tabindex:"-1"},[a("Coin type "),s("a",{class:"header-anchor",href:"#coin-type","aria-label":'Permalink to "Coin type"'},"​")],-1),s("p",null,"用于区别不同的币种，以太坊使用 60’，比特币使用 0’ 。这些币种定义在 SLIP-44 上。",-1),s("h4",{id:"account",tabindex:"-1"},[a("Account "),s("a",{class:"header-anchor",href:"#account","aria-label":'Permalink to "Account"'},"​")],-1),s("p",null,"用于区分用户身份，有些钱包（例如 Ledger Live）使用这个层级替代 address index 来为用户提供更多的隐私保护。",-1),s("h4",{id:"change",tabindex:"-1"},[a("Change "),s("a",{class:"header-anchor",href:"#change","aria-label":'Permalink to "Change"'},"​")],-1),s("p",null,"该字段只有两个值，0 或 1。0 意味着这个地址是用于 “外部链”，1 用于 “内部链”。对于以太坊通常这个值都是 0。",-1),s("h4",{id:"address-index",tabindex:"-1"},[a("Address index "),s("a",{class:"header-anchor",href:"#address-index","aria-label":'Permalink to "Address index"'},"​")],-1),s("p",null,"地址序号，大部分钱包用于派生出一个 HD 钱包中的不同地址，MetaMask也是使用这个值。",-1),s("hr",null,null,-1),s("h2",{id:"java-从助记词密语导入-hd-钱包范例",tabindex:"-1"},[a("java 从助记词密语导入 HD 钱包范例 "),s("a",{class:"header-anchor",href:"#java-从助记词密语导入-hd-钱包范例","aria-label":'Permalink to "java 从助记词密语导入 HD 钱包范例"'},"​")],-1),s("div",{class:"language-java vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"java"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    /**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     * 根据助记词生成钱包凭证")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     * "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@param"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," mnemonic"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," 助记词")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     * "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@param"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," index"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," 钱包地址总数，生成从 0 至 index 总共 index+1 个")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     * "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@return"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," Credentials 集合")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     */")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  public"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," static"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," List"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Credentials"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," generateWalletFromMnemonic"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(String mnemonic, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," index) {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    List<"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Credentials"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> wallet "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ArrayList<>();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    byte"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[] seed "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," MnemonicUtils."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"generateSeed"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(mnemonic, "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'""'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    Bip32ECKeyPair masterKey "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Bip32ECKeyPair."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"generateKeyPair"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(seed);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    for"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," i "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; i "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," index; i"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"++"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      int"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[] path "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"44"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," HARDENED_BIT, "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"60"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," HARDENED_BIT, "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," HARDENED_BIT, "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", i};")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      wallet."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"add"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Credentials."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"create"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Bip32ECKeyPair."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"deriveKeyPair"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(masterKey, path)));")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    return"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," wallet;")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")])])]),s("button",{class:"collapse"})],-1)])),"main-header":l(()=>[e(t.$slots,"main-header")]),"main-header-after":l(()=>[e(t.$slots,"main-header-after")]),"main-nav":l(()=>[e(t.$slots,"main-nav")]),"main-content-before":l(()=>[e(t.$slots,"main-content-before")]),"main-content":l(()=>[e(t.$slots,"main-content")]),"main-content-after":l(()=>[e(t.$slots,"main-content-after")]),"main-nav-before":l(()=>[e(t.$slots,"main-nav-before")]),"main-nav-after":l(()=>[e(t.$slots,"main-nav-after")]),comment:l(()=>[e(t.$slots,"comment")]),footer:l(()=>[e(t.$slots,"footer")]),aside:l(()=>[e(t.$slots,"aside")]),"aside-custom":l(()=>[e(t.$slots,"aside-custom")]),default:l(()=>[e(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{S as default,f as usePageData};
