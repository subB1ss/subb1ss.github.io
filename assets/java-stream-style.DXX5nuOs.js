import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CDNibFOu.js";import{e as g,a as E,u as y}from"./chunks/vue-router.CwVjGBxy.js";import{N as f,a3 as i,U as e,S as a,W as s,u,O as v,E as D}from"./framework.CKsHIdWx.js";import"./app.CmA0qfZP.js";import"./chunks/dayjs.CCYrSalk.js";import"./chunks/@vueuse/motion.ClL2VSPB.js";import"./chunks/vue-i18n.CsQzXKWS.js";import"./chunks/pinia.sS_t_ppk.js";import"./chunks/nprogress.BahbDzmd.js";import"./YunComment.vue_vue_type_style_index_0_lang.W6MzDCJn.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BVfBHuM-.js";import"./post.BO2M9Fgu.js";const A=g("/posts/java-stream-style",async l=>JSON.parse('{"title":"Java流处理风格编程之 FlatMap 与 Map","description":"","frontmatter":{"title":"Java流处理风格编程之 FlatMap 与 Map","date":"2024-07-20","categories":"Sticker","tags":["Java"]},"headers":[],"relativePath":"pages/posts/java-stream-style.md","lastUpdated":1750994524000}'),{lazy:(l,n)=>l.name===n.name}),O={__name:"java-stream-style",setup(l,{expose:n}){var k;const{data:h}=A(),p=y(),d=E(),r=Object.assign(d.meta.frontmatter||{},((k=h.value)==null?void 0:k.frontmatter)||{});return p.currentRoute.value.data=h.value,D("valaxy:frontmatter",r),globalThis.$frontmatter=r,n({frontmatter:{title:"Java流处理风格编程之 FlatMap 与 Map",date:"2024-07-20",categories:"Sticker",tags:["Java"]}}),(t,o)=>{const m=c;return v(),f(m,{frontmatter:u(r)},{"main-content-md":i(()=>o[0]||(o[0]=[a("h1",{id:"流处理风格",tabindex:"-1"},[s("流处理风格 "),a("a",{class:"header-anchor",href:"#流处理风格","aria-label":'Permalink to "流处理风格"'},"​")],-1),a("p",null,"比较新的特性，Java8 加入的，其实也不是很新了，但是感觉实际上还是用得比较少。作为 Java 向面向过程让步的一部分存在，但有些时候我其实觉得流绝对没有那么面向过程。",-1),a("p",null,"一般来说我很愿意使用流风格 api，能有效的提高代码的可读性。但是因为惯性的原因写逻辑的时候往往不会想到这上面，都是在有多余的时间 review 的时候去替换。",-1),a("p",null,"步入正题：",-1),a("h2",{id:"map",tabindex:"-1"},[s("map "),a("a",{class:"header-anchor",href:"#map","aria-label":'Permalink to "map"'},"​")],-1),a("p",null,"给一个无干扰、无状态的方法作为参数，将这个方法应用至流的每个元素上，并将操作的结果一一对应生成一个新的流作为 map 的结果返回。",-1),a("h2",{id:"flatmap",tabindex:"-1"},[s("flatMap "),a("a",{class:"header-anchor",href:"#flatmap","aria-label":'Permalink to "flatMap"'},"​")],-1),a("p",null,[s("大致上和 flat 一样，但是作为参数的不干扰、无状态方法明确了产生的类型是个流，然后用这些流替换掉原本的每个元素，最终将结果 "),a("em",null,"扁平化"),s(" 为新的流作为结果返回，所谓 "),a("em",null,"flat"),s(" map。")],-1),a("hr",null,null,-1),a("p",null,"合理的使用流能显著改善代码的可读性：",-1),a("div",{class:"language-java vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"},"java"),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"}),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    List<"),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"LogHandler"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> logHandlers "),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," getLogHandlers"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    List<"),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"String"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> contracts "),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ArrayList<>();")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //    for (LogHandler l : logHandlers) {")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //      List<String> cs = l.getContract();")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //      for (String c : cs) {")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //        if (!contracts.contains(c)) {")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //          contracts.add(c);")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //        }")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //      }")]),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //    }")]),s(`
`),a("span",{class:"line"}),s(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    logHandlers."),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"stream"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()."),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"flatMap"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(l "),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," l."),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"getContract"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()."),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"stream"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())."),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"distinct"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()."),a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"forEach"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(contracts"),a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"::"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"add);")])])]),a("button",{class:"collapse"})],-1)])),"main-header":i(()=>[e(t.$slots,"main-header")]),"main-header-after":i(()=>[e(t.$slots,"main-header-after")]),"main-nav":i(()=>[e(t.$slots,"main-nav")]),"main-content-before":i(()=>[e(t.$slots,"main-content-before")]),"main-content":i(()=>[e(t.$slots,"main-content")]),"main-content-after":i(()=>[e(t.$slots,"main-content-after")]),"main-nav-before":i(()=>[e(t.$slots,"main-nav-before")]),"main-nav-after":i(()=>[e(t.$slots,"main-nav-after")]),comment:i(()=>[e(t.$slots,"comment")]),footer:i(()=>[e(t.$slots,"footer")]),aside:i(()=>[e(t.$slots,"aside")]),"aside-custom":i(()=>[e(t.$slots,"aside-custom")]),default:i(()=>[e(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{O as default,A as usePageData};
